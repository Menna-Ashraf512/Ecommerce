import{a as L}from"./chunk-TM6OZZCA.js";import{j}from"./chunk-CDTZA3VN.js";import"./chunk-3KDYLMZQ.js";import{Ab as d,Db as _,Ec as V,Fb as g,Gb as s,Jb as C,Oa as w,Ob as n,Qb as x,Ra as l,Z as k,Zb as T,ab as S,bc as h,dc as v,ea as p,fa as u,ga as y,gb as E,ha as f,qb as b,ub as I,wb as D,xb as P,yb as t,zb as r}from"./chunk-VHZDE6SP.js";var F=(o,i)=>i.product._id,G=o=>["/checkout",o];function N(o,i){o&1&&(t(0,"div",3),d(1,"img",4),t(2,"h4",5),n(3,"No Product"),r(),t(4,"p",6),n(5,"Go find the Product You Like"),r()())}function $(o,i){if(o&1){let e=_();t(0,"tbody")(1,"tr",17)(2,"td",8),d(3,"img",18),r(),t(4,"td",19),n(5),r(),t(6,"td",20)(7,"div",21)(8,"button",22),g("click",function(){let c=p(e).$implicit,m=s(2);return u(m.updateItem(c.product.id,c.count-1))}),t(9,"span",13),n(10,"Quantity button"),r(),y(),t(11,"svg",23),d(12,"path",24),r()(),f(),t(13,"div"),d(14,"input",25),r(),t(15,"button",26),g("click",function(){let c=p(e).$implicit,m=s(2);return u(m.updateItem(c.product.id,c.count+1))}),t(16,"span",13),n(17,"Quantity button"),r(),y(),t(18,"svg",27),d(19,"path",28),r()()()(),f(),t(20,"td",19),n(21),h(22,"currency"),r(),t(23,"td",20)(24,"a",29),g("click",function(){let c=p(e).$implicit,m=s(2);return u(m.removeItem(c.product._id))}),n(25,"Remove"),r()()()()}if(o&2){let e=i.$implicit;l(3),C("alt",e.product.title),b("src",e.product.imageCover,w),l(2),x(" ",e.product.title," "),l(9),C("placeholder",e.count),l(7),x(" ",v(22,5,e.price,"EGP")," ")}}function B(o,i){if(o&1){let e=_();t(0,"div",7)(1,"div",8)(2,"h3"),n(3),h(4,"currency"),r(),t(5,"button",9),g("click",function(){p(e);let c=s();return u(c.clearUserCart())}),n(6,"Clear All"),r()(),t(7,"table",10)(8,"thead",11)(9,"tr")(10,"th",12)(11,"span",13),n(12,"Image"),r()(),t(13,"th",14),n(14," Product "),r(),t(15,"th",14),n(16," Qty "),r(),t(17,"th",14),n(18," Price "),r(),t(19,"th",14),n(20," Action "),r()()(),D(21,$,26,8,"tbody",null,F),r()(),t(23,"div",15)(24,"button",16),n(25,"Payment"),r()()}if(o&2){let e=s();l(3),x("Total Cart Price : ",v(4,2,e.cartDetails.totalCartPrice,"EGP")," "),l(18),P(e.cartDetails.products),l(3),b("routerLink",T(5,G,e.cartDetails._id))}}var M=class o{cartService=k(L);cartDetails={};ngOnInit(){this.getCart()}getCart(){this.cartService.getLoggedUserCart().subscribe({next:i=>{console.log(i.data),this.cartDetails=i.data},error:i=>{console.log(i)}})}removeItem(i){this.cartService.removeSpecificCardItem(i).subscribe({next:e=>{console.log(e),this.cartDetails=e.data,this.cartService.cartNumber.set(e.numOfCartItems)},error:e=>{console.log(e)}})}updateItem(i,e){this.cartService.updateCartProduct(i,e).subscribe({next:a=>{console.log(a),this.cartDetails=a.data},error:a=>{console.log(a)}})}clearUserCart(){this.cartService.clearCart().subscribe({next:i=>{console.log(i.data),i.message==="success"&&(this.cartDetails.products.length=0,this.cartService.cartNumber.set(0))},error:i=>{console.log(i)}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-cart"]],decls:6,vars:1,consts:[[1,"w-[75%]","mx-auto"],[1,"m-sec-style"],[1,"text-center","text-main","text-4xl"],[1,"flex","justify-center","flex-col","gap-y-3","items-center","my-3"],["src","images/addCart.jpg","alt","emptyCart",1,"w-[400px]","h-[400px]","object-cover"],[1,"font-semibold","text-3xl"],[1,""],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"p-4"],[1,"btn-main","block","me-auto","px-3","py-2","mt-3",3,"click"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-16","py-3"],[1,"sr-only"],["scope","col",1,"px-6","py-3"],[1,"flex","justify-evenly"],[1,"btn-main","block","px-5","py-3","mt-4",3,"routerLink"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"w-16","md:w-32","max-w-full","max-h-full",3,"src","alt"],[1,"px-6","py-4","font-semibold","text-gray-900"],[1,"px-6","py-4"],[1,"flex","items-center"],["type","button",1,"inline-flex","items-center","justify-center","h-6","w-6","p-1","me-3","text-sm","font-medium","text-gray-500","bg-white","border","border-gray-300","rounded-full","focus:outline-none","hover:bg-gray-100","focus:ring-4","focus:ring-gray-200","dark:bg-gray-800","dark:hover:bg-gray-700",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 18 2",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h16"],["type","number","id","first_product","required","",1,"bg-gray-50","w-20","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-main","focus:border-main","block","px-2.5","py-1","dark:bg-gray-700","dark:text-white",3,"placeholder"],["type","button",1,"inline-flex","items-center","justify-center","h-6","w-6","p-1","ms-3","text-sm","font-medium","text-gray-500","bg-white","border","border-gray-300","rounded-full","focus:outline-none","hover:bg-gray-100","focus:ring-4","focus:ring-gray-200","dark:bg-gray-800","dark:hover:bg-gray-700",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 18 18",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 1v16M1 9h16"],[1,"font-medium","text-red-600","dark:text-red-500","hover:underline","cursor-pointer",3,"click"]],template:function(e,a){e&1&&(t(0,"section",0)(1,"div",1)(2,"h1",2),n(3,"Shop Cart"),r(),E(4,N,6,0,"div",3)(5,B,26,7),r()()),e&2&&(l(4),I(a.cartDetails.products.length===0?4:5))},dependencies:[V,j],encapsulation:2})};export{M as CartComponent};
