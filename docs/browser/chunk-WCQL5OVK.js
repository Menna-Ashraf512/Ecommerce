import{a as P}from"./chunk-SAR2OAUH.js";import{a as F}from"./chunk-TM6OZZCA.js";import{j as I}from"./chunk-CDTZA3VN.js";import"./chunk-3KDYLMZQ.js";import{Ab as a,Db as b,Ec as T,Fb as u,Gb as c,Jb as S,Oa as C,Ob as r,Qb as v,Ra as s,Z as _,Zb as W,ab as L,bc as k,dc as E,ea as h,fa as f,gb as m,qb as g,ub as d,wb as y,xb as w,yb as n,zb as o}from"./chunk-VHZDE6SP.js";var N=(t,i)=>i._id,V=t=>["/details",t];function j(t,i){t&1&&(n(0,"div",4),a(1,"img",6),n(2,"h4",7),r(3,"No Product"),o(),n(4,"p",8),r(5,"Go find the Product You Like"),o()())}function $(t,i){t&1&&a(0,"i",20)}function D(t,i){t&1&&a(0,"i",21)}function A(t,i){t&1&&a(0,"i",20)}function G(t,i){t&1&&a(0,"i",23)}function M(t,i){if(t&1){let e=b();n(0,"tbody")(1,"tr",13)(2,"td",14),a(3,"img",15),o(),n(4,"td",16),r(5),o(),n(6,"td",16),r(7),k(8,"currency"),o(),n(9,"td",17)(10,"div",18)(11,"a",19),u("click",function(){let p=h(e).$implicit,x=c(2);return f(x.removeItem(p._id))}),m(12,$,1,0,"i",20)(13,D,1,0,"i",21),r(14,"Remove"),o(),n(15,"a",22),u("click",function(){let p=h(e).$implicit,x=c(2);return f(x.addCartItem(p._id))}),m(16,A,1,0,"i",20)(17,G,1,0,"i",23),r(18,"Add to cart"),o()()()()()}if(t&2){let e=i.$implicit,l=c(2);s(2),g("routerLink",W(10,V,e.id)),s(),S("alt",e.title),g("src",e.imageCover,C),s(2),v(" ",e.title," "),s(2),v(" ",E(8,7,e.price,"EGP")," "),s(5),d(l.isLoadingRemove?12:13),s(4),d(l.isLoadingCart?16:17)}}function O(t,i){if(t&1&&(n(0,"table",5)(1,"thead",9)(2,"tr")(3,"th",10)(4,"span",11),r(5,"Image"),o()(),n(6,"th",12),r(7," Product "),o(),n(8,"th",12),r(9," Price "),o(),n(10,"th",12),r(11," Action "),o()()(),y(12,M,19,12,"tbody",null,N),o()),t&2){let e=c();s(12),w(e.wishList.data)}}var R=class t{wishListService=_(P);_cartService=_(F);isLoadingCart=!1;isLoadingRemove=!1;wishList={};ngOnInit(){this.getWishList()}getWishList(){this.wishListService.getLoggedUserWishList().subscribe({next:i=>{this.wishList=i,this.wishListService.wishNumber.set(i.count)},error:i=>{console.log(i)}})}removeItem(i){this.isLoadingRemove=!0,this.wishListService.removeSpecificFromWishList(i).subscribe({next:e=>{e.status==="success"&&this.getWishList()},error:e=>{console.log(e),this.isLoadingRemove=!1},complete:()=>this.isLoadingRemove=!1})}addCartItem(i){this.isLoadingCart=!0,this._cartService.addProductToCart(i).subscribe({next:e=>{this._cartService.cartNumber.set(e.numOfCartItems)},error:e=>{console.log(e),this.isLoadingCart=!1},complete:()=>this.isLoadingCart=!1})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=L({type:t,selectors:[["app-wish-list"]],decls:7,vars:1,consts:[[1,"w-[75%]","mx-auto"],[1,"m-sec-style"],[1,"text-center","text-main","text-4xl"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"flex","justify-center","flex-col","gap-y-3","items-center","my-3"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],["src","/images/wishList.jpg","alt","emptyCart",1,"w-[400px]","h-[400px]","object-cover"],[1,"font-semibold","text-3xl"],[1,""],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-16","py-3"],[1,"sr-only"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","border-gray-200","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"p-4",3,"routerLink"],[1,"w-16","md:w-32","max-w-full","max-h-full",3,"src","alt"],[1,"px-6","py-4","font-semibold","text-gray-900","dark:text-black"],[1,"px-6","py-4"],[1,"flex","flex-col","gap-y-6"],[1,"font-medium","text-red-600","dark:text-red-500","group","cursor-pointer",3,"click"],[1,"fa","fa-spin","me-2","text-lg","fa-spinner"],[1,"fa","fa-trash-can-arrow-up","me-2","text-lg","group-hover:scale-110"],[1,"font-medium","text-green-600","group","cursor-pointer",3,"click"],[1,"fa","fa-cart-plus","me-2","text-lg","group-hover:scale-110"]],template:function(e,l){e&1&&(n(0,"section",0)(1,"div",1)(2,"h1",2),r(3,"Wish List"),o(),n(4,"div",3),m(5,j,6,0,"div",4)(6,O,14,0,"table",5),o()()()),e&2&&(s(5),d(l.wishList.data.length===0?5:6))},dependencies:[T,I],encapsulation:2})};export{R as WishListComponent};
